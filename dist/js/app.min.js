$(document).ready(function(){let t=document.querySelector("#searchBarLabel .search-input"),e=document.querySelector("#searchToggleBtn"),n=document.querySelector("#searchBarLabel");e.addEventListener("click",e=>{n.classList.contains("active")||e.preventDefault(),n.classList.toggle("active"),t.focus()}),window.onscroll=()=>{n.classList.remove("active")},document.addEventListener("click",e=>{n.contains(e.target)||n.classList.remove("active")});const r=document.querySelectorAll(".catSidebar-item"),o=(r.forEach(e=>{const t=e.querySelector(".catSidebar-title");e.querySelector(".catSidebar-group");t.addEventListener("click",()=>{o(e)})}),1025<=window.innerWidth&&r.forEach(e=>{const t=e.querySelector(".catSidebar-group");t.style.height=t.scrollHeight+"px",e.classList.add("catSidebar-item-open")}),e=>{const t=e.querySelector(".catSidebar-group");e.classList.contains("catSidebar-item-open")?(t.removeAttribute("style"),e.classList.remove("catSidebar-item-open")):(t.style.height=t.scrollHeight+"px",e.classList.add("catSidebar-item-open"))}),c=document.querySelectorAll(".accordion-item"),i=(c.forEach(t=>{const e=t.querySelector(".accordion-header");e.addEventListener("click",()=>{var e=document.querySelector(".accordion-open");i(t),e&&e!==t&&i(e)})}),e=>{const t=e.querySelector(".accordion-content");e.classList.contains("accordion-open")?(t.removeAttribute("style"),e.classList.remove("accordion-open")):(t.style.height=t.scrollHeight+"px",e.classList.add("accordion-open"))}),l=(jQuery(".js-example-basic-single").select2({minimumResultsForSearch:1/0,dropdownPosition:"below"}),jQuery("#orderby").select2({minimumResultsForSearch:1/0,dropdownPosition:"below"}),jQuery("#regionSelect, #countrySelect, #regionSecondSelect, #countrySecondSelect").select2({minimumResultsForSearch:1/0,dropdownPosition:"below",placeholder:"Выберите"}),jQuery("#regionCartSelect").select2({minimumResultsForSearch:1/0,dropdownPosition:"below",placeholder:"Регион/Уезд"}),jQuery("#countryCartSelect").select2({minimumResultsForSearch:1/0,dropdownPosition:"below",placeholder:"Страна"}),jQuery("#deliveryVariantCartSelect").select2({minimumResultsForSearch:1/0,dropdownPosition:"below",placeholder:"Посылочный автомат"}),(()=>{let c;return{settings(){return{content:document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:"Читать дальше...",lessLink:"Свернуть"}},init(){c=this.settings(),this.bindEvents()},bindEvents(){l.truncateText()},countWords(e){return e.split(/\s+/).length},ellipseContent(e,t){return e.split(/\s+/).slice(0,t).join(" ")+"..."},truncateText(){for(let e=0;e<c.content.length;e++){var t=c.content[e].innerHTML,n=c.content[e].dataset.rmWords,r=l.ellipseContent(t,n),o=l.countWords(t);c.originalContentArr.push(t),c.truncatedContentArr.push(r),n<o&&(c.content[e].innerHTML=c.truncatedContentArr[e],t=e,l.createLink(t))}l.handleClick(c.content)},createLink(e){const t=document.createElement("span");t.className="read-more__link-wrap",t.innerHTML=`<a id="read-more_${e}" class="read-more__link" style="cursor:pointer;">${c.moreLink}</a>`,c.content[e].parentNode.insertBefore(t,c.content[e].nextSibling)},handleClick(n){const r=document.querySelectorAll(".read-more__link");for(let e=0,t=r.length;e<t;e++)r[e].addEventListener("click",function(){const e=this.getAttribute("id");var t=e.split("_")[1];n[t].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(n[t].innerHTML=c.originalContentArr[t],this.innerHTML=c.lessLink,this.dataset.clicked=!0):(n[t].innerHTML=c.truncatedContentArr[t],this.innerHTML=c.moreLink,this.dataset.clicked=!1)})},openAll(){const t=document.querySelectorAll(".read-more__link");for(let e=0;e<t.length;e++)content[e].innerHTML=c.truncatedContentArr[e],t[e].innerHTML=c.moreLink}}})()),s=(l.init(),document.querySelector(".load-more")),a=document.querySelectorAll(".prodfaq .accordion-item").length;let d=3;window.innerWidth<=1024&&s.addEventListener("click",function(){d+=3;const e=Array.from(document.querySelector(".prodfaq .accordion").children),t=e.slice(0,d);t.forEach(e=>e.classList.add("is-visible")),t.length===a&&(s.style.display="none")})});